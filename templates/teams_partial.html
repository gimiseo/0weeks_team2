<div class="team-list-header mb-4">
    <div class="is-flex is-align-items-center is-justify-content-space-between">
        <h3 class="title is-4" style="margin-bottom: 0;">
            Week {{ selected_week }} 팀 목록
        </h3>
        <div class="buttons" style="margin-left: auto; padding-left: 20px;">
            {% if selected_week <= current_week %}
            <a href="/team_signup?week={{ selected_week }}" class="button is-info is-small">
                <span class="icon is-small">
                    <i class="fas fa-plus"></i>
                </span>
                <span>팀 생성</span>
            </a>        
            {% endif %}
            <a href="/team_join/{{ selected_week }}" class="button is-success is-small">
                <span class="icon is-small">
                    <i class="fas fa-user-plus"></i>
                </span>
                <span>팀 가입</span>
            </a>
        </div>
    </div>
</div>

{% for team in selected_teams %}
<div class="notification is-success mb-4 team-card" style="cursor: pointer;" onclick="window.location.href='/team_page/{{ team.id }}'">
    <div class="team-info">
        <div class="is-flex is-align-items-center is-justify-content-space-between">
            <div class="team-details">
                <div class="has-text-weight-semibold team-name">{{ team.teamName }}</div>
                <div class="is-size-7 has-text-grey team-meta">
                    멤버 {{ team.member_count }}명 · 추천 {{ team.upvote }}개
                </div>
            </div>
            <div class="team-members is-flex is-align-items-center">
                {% for member in team.members[:3] %}
                <div class="avatar-frame mr-2" 
                     title="{{ member.nickname }} ({{ member.role }})"
                     style="background-image: url('{{ '/static/profile_imgs/' + member.profile_img if member.profile_img else '/static/images/default-avatar.jpg' }}'); {% if member.role == 'master' %}border-color: #ff9800;{% endif %}">
                </div>
                {% endfor %}
                {% if team.member_count > 3 %}
                <div class="avatar-frame more-members">
                    +{{ team.member_count - 3 }}
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endfor %}